require_relative "test_helper"

class KubeclientTest < Minitest::Test
  def test_connect
    assert_timeout(Kubeclient::HttpError) do
      Kubeclient::Client.new(connect_url, timeouts: {open: 1}).discover
    end
  end

  def test_read
    assert_timeout(Kubeclient::HttpError) do
      Kubeclient::Client.new(read_url, timeouts: {read: 1}).discover
    end
  end
end
